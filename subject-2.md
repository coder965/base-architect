## 第二章节 分布式锁
由于应用集群多节点化 则会导致重复提交在不同节点 多节点操作同一数据 操作顺序不一致等 所以需要分布式锁来控制节点

### 2.1 基于缓存/数据库的分布式锁
基于缓存的锁 如redis 或者关系型数据库的锁或事务机制来达到分布式锁  
场景例子:  
1) 抢购活动计数  
2) 积分/金额操作  
3) 库存操作 超卖问题  

### 2.2 第三方分布式锁
基于zookeeper/doozer/etcd等专用于做分布式锁的工具第三方组件  
场景例子:  
1) 多次点击 防止重复提交 导致数据冗余或出错  
2) 安全相关 可通过此无限提交导致服务出问题  

### 2.3 基于文件的分布式锁
在多应用多系统场景下 文件操作的锁 告知操作系统/系统命令或使用分布式锁工具 来锁定此文件  
场景例子:  
1) 多个应用同时写入文件  
2) 文件被幻读或无此文件  

### 2.4 防重复提交机制
在多应用情况下 为避免相同操作程序重复执行 可通过web服务器规避重复提交至应用 或使用分布式session机制 或者分布式锁机制等来避免

 <a href="subject-1.md">上一章节</a>  <a href="subject-3.md">下一章节</a>
